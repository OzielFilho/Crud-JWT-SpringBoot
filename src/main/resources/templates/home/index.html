<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://thymeleaf.org">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <link rel="stylesheet" href="css/style.css">
  <title>Academico</title>
</head>

<body>
  <h1>
    Acadêmico
  </h1>
  <p>Projeto da disciplina de Tópicos em Java para Web</p>
  <h3>Professores</h3>

  <table class="table table-dark table-sm">
    <thead>
    <tr>
      <th scope="col">Nome</th>
      <th scope="col">Email</th>
      <th scope="col">Turmas</th>
    </tr>
    </thead>
    <tbody>
    <tr data-th-each="professor : ${professores}">
      <td data-th-text="${professor.name}"></td>
      <td data-th-text="${professor.email}"></td>
      <td>
        <p th:each="turma : ${professor.turmas}">
          <span th:text="${turma.name}">Turma</span>
        </p>
      </td>
    </tr>

    </tbody>
  </table>
    </table>
  <h3>Turmas</h3>
  <table class="table table-dark table-sm">
      <thead>
      <tr>
        <th scope="col">Nome</th>
        <th scope="col">Descrição</th>
        <th scope="col">Professor</th>
        <th scope="col">Alunos</th>
      </tr>
      </thead>
      <tbody>
      <tr data-th-each="turma : ${turmas}">
        <td data-th-text="${turma.name}"></td>
        <td data-th-text="${turma.description}"></td>
        <td data-th-text="${turma.professor.name}"></td>
        <td>
          <p th:each="aluno : ${turma.alunos}">
            <span th:text="${aluno.name}">Aluno</span>
          </p>
        </td>
      </tr>

      </tbody>
    </table>
    <h3>Alunos</h3>
    <table class="table table-dark table-sm">
      <thead>
      <tr>
        <th scope="col">Nome</th>
        <th scope="col">Email</th>
        <th scope="col">Turmas</th>
        <th scope="col">+</th>
      </tr>
      </thead>
      <tbody>
      <tr data-th-each="aluno : ${alunos}">
        <td data-th-text="${aluno.name}"></td>
        <td data-th-text="${aluno.email}"></td>
        <td>
          <p th:each="turma : ${aluno.turmas}">
            <span th:text="${turma.name}">Turma</span>
            <span >-</span>
            <span th:text="${turma.professor.name}">Turma</span>
          </p>
        </td>
        <td>
          <button type="button" onclick="window.location.href = 'addNewTurmaAluno';" class="btn btn-light">Adicionar uma nova turma</button>
        </td>
      </tr>

      </tbody>
    </table>

    <button type="button" onclick="window.location.href = 'createProfessor';" class="btn btn-dark">Criar um Professor</button>
    <button type="button" onclick="window.location.href = 'createTurma';" class="btn btn-dark">Criar uma Turma</button>
    <button type="button" onclick="window.location.href = 'createAluno';" class="btn btn-dark">Criar um aluno</button>

</body>

</html>